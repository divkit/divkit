{
  "description": "Slider preferences",
  "platforms": [
    "android"
  ],
  "div_data": {
    "templates": {
      "title_preset": {
        "type": "text",
        "text": "text",
        "margins": {
          "top": 20,
          "left": 12,
          "right": 12
        },
        "font_size": 18
      },
      "settings_title": {
        "type": "title_preset",
        "margins": {
          "top": 0,
          "bottom": 0,
          "left": 12,
          "right": 12
        }
      },
      "value_button": {
        "type": "text",
        "$text": "value",
        "width": {
          "type": "fixed",
          "value": 48
        },
        "height": {
          "type": "fixed",
          "value": 48
        },
        "margins": {
          "left": 16,
          "top": 16,
          "right": 16,
          "bottom": 16
        },
        "border": {
          "corner_radius": 8
        },
        "background": [
          {
            "type": "solid",
            "color": "#1ABC9C"
          }
        ],
        "alignment_vertical": "bottom",
        "alignment_horizontal": "center",
        "font_size": 18,
        "font_weight": "medium",
        "text_alignment_vertical": "center",
        "text_alignment_horizontal": "center",
        "text_color": "#ffffff"
      },
      "settings_switch_off": {
        "type": "container",
        "width": {
          "type": "match_parent"
        },
        "height": {
          "type": "match_parent"
        },
        "content_alignment_horizontal": "left",
        "content_alignment_vertical": "center",
        "items": [
          {
            "type": "text",
            "text": " ",
            "width": {
              "type": "fixed",
              "value": 16
            },
            "height": {
              "type": "fixed",
              "value": 16
            },
            "border": {
              "corner_radius": 8
            },
            "margins": {
              "bottom": 0,
              "left": 4,
              "right": 4,
              "top": 0,
              "unit": "dp"
            },
            "background": [
              {
                "type": "solid",
                "color": "#ffffff"
              }
            ]
          }
        ],
        "border": {
          "corner_radius": 16
        },
        "background": [
          {
            "type": "solid",
            "color": "#3e000000"
          }
        ]
      },
      "settings_switch_on": {
        "type": "settings_switch_off",
        "content_alignment_horizontal": "right",
        "content_alignment_vertical": "center",
        "background": [
          {
            "type": "solid",
            "color": "#FFCC00"
          }
        ]
      },
      "slider_preset": {
        "type": "slider",
        "width": {
          "type": "match_parent"
        },
        "paddings": {
          "left": 8,
          "right": 8,
          "top": 8,
          "bottom": 8
        },
        "max_value": 10,
        "min_value": 1,
        "thumb_value_variable": "first_thumb_value",
        "thumb_style": {
          "type": "shape_drawable",
          "color": "#FFCC00",
          "stroke": {
            "color": "#ffffff",
            "width": 3
          },
          "shape": {
            "type": "rounded_rectangle",
            "item_height": {
              "type": "fixed",
              "value": 32
            },
            "item_width": {
              "type": "fixed",
              "value": 32
            },
            "corner_radius": {
              "type": "fixed",
              "value": 100
            }
          }
        },
        "track_active_style": {
          "type": "shape_drawable",
          "color": "#FFCC00",
          "shape": {
            "type": "rounded_rectangle",
            "item_height": {
              "type": "fixed",
              "value": 6
            }
          }
        },
        "track_inactive_style": {
          "type": "shape_drawable",
          "color": "#20000000",
          "shape": {
            "type": "rounded_rectangle",
            "item_height": {
              "type": "fixed",
              "value": 6
            }
          }
        }
      },
      "custom_slider": {
        "type": "slider_preset",
        "thumb_secondary_style": {
          "type": "shape_drawable",
          "color": "#FFCC00",
          "stroke": {
            "color": "#ffffff",
            "width": 3
          },
          "shape": {
            "type": "rounded_rectangle",
            "item_height": {
              "type": "fixed",
              "value": 32
            },
            "item_width": {
              "type": "fixed",
              "value": 32
            },
            "corner_radius": {
              "": "fixed",
              "value": 100
            }
          }
        }
      },
      "custom_slider_with_tick_marks": {
        "type": "custom_slider",
        "tick_mark_active_style": {
          "type": "shape_drawable",
          "color": "#FFCC00",
          "stroke": {
            "color": "#ffffff",
            "width": 2
          },
          "shape": {
            "type": "rounded_rectangle",
            "item_height": {
              "type": "fixed",
              "value": 8
            },
            "item_width": {
              "type": "fixed",
              "value": 8
            },
            "corner_radius": {
              "type": "fixed",
              "value": 5
            }
          }
        },
        "tick_mark_inactive_style": {
          "type": "shape_drawable",
          "color": "#20000000",
          "stroke": {
            "color": "#ffffff",
            "width": 2
          },
          "shape": {
            "type": "rounded_rectangle",
            "item_height": {
              "type": "fixed",
              "value": 8
            },
            "item_width": {
              "type": "fixed",
              "value": 8
            },
            "corner_radius": {
              "type": "fixed",
              "value": 5
            }
          }
        }
      }
    },
    "card": {
      "log_id": "test",
      "variables": [
        {
          "name": "secondary_thumb",
          "type": "boolean",
          "value": false
        },
        {
          "name": "invert_secondary_thumb",
          "type": "boolean",
          "value": false
        },
        {
          "name": "tick_marks",
          "type": "boolean",
          "value": false
        },
        {
          "name": "invert_tick_marks",
          "type": "boolean",
          "value": false
        },
        {
          "name": "max_value",
          "type": "string",
          "value": "10"
        },
        {
          "name": "first_thumb_value",
          "type": "integer",
          "value": 0
        },
        {
          "name": "second_thumb_value",
          "type": "integer",
          "value": 0
        },
        {
          "name": "third_thumb_value",
          "type": "integer",
          "value": 0
        },
        {
          "name": "fourth_thumb_value",
          "type": "integer",
          "value": 0
        },
        {
          "name": "fourth_thumb_secondary_value",
          "type": "integer",
          "value": 10
        },
        {
          "name": "fifth_thumb_value",
          "type": "integer",
          "value": 0
        },
        {
          "name": "fifth_thumb_secondary_value",
          "type": "integer",
          "value": 10
        },
        {
          "name": "sixth_thumb_value",
          "type": "integer",
          "value": 0
        },
        {
          "name": "sixth_thumb_secondary_value",
          "type": "integer",
          "value": 0
        },
        {
          "name": "third_thumb_secondary_value",
          "type": "integer",
          "value": 10
        }
      ],
      "variable_triggers": [
        {
          "condition": "@{invert_secondary_thumb && !secondary_thumb}",
          "actions": [
            {
              "log_id": "reset_invert_secondary_thumb",
              "url": "div-action://set_variable?name=invert_secondary_thumb&value=false"
            },
            {
              "log_id": "update_secondary_thumb_switch",
              "url": "div-action://set_state?state_id=0/secondary_thumb_switch/1"
            },
            {
              "log_id": "change_secondary_thumb",
              "url": "div-action://set_variable?name=secondary_thumb&value=true"
            }
          ]
        },
        {
          "condition": "@{invert_secondary_thumb && secondary_thumb}",
          "actions": [
            {
              "log_id": "reset_invert_secondary_thumb",
              "url": "div-action://set_variable?name=invert_secondary_thumb&value=false"
            },
            {
              "log_id": "update_secondary_thumb_switch",
              "url": "div-action://set_state?state_id=0/secondary_thumb_switch/0"
            },
            {
              "log_id": "change_secondary_thumb",
              "url": "div-action://set_variable?name=secondary_thumb&value=false"
            }
          ]
        },
        {
          "condition": "@{invert_tick_marks && !tick_marks}",
          "actions": [
            {
              "log_id": "reset_invert_tick_marks",
              "url": "div-action://set_variable?name=invert_tick_marks&value=false"
            },
            {
              "log_id": "update_tick_marks_switch",
              "url": "div-action://set_state?state_id=0/tick_marks_switch/1"
            },
            {
              "log_id": "change_tick_marks",
              "url": "div-action://set_variable?name=tick_marks&value=true"
            }
          ]
        },
        {
          "condition": "@{invert_tick_marks && tick_marks}",
          "actions": [
            {
              "log_id": "reset_invert_tick_marks",
              "url": "div-action://set_variable?name=invert_tick_marks&value=false"
            },
            {
              "log_id": "update_tick_marks_switch",
              "url": "div-action://set_state?state_id=0/tick_marks_switch/0"
            },
            {
              "log_id": "change_tick_marks",
              "url": "div-action://set_variable?name=tick_marks&value=false"
            }
          ]
        },
        {
          "condition": "@{tick_marks && !secondary_thumb}",
          "actions": [
            {
              "log_id": "update_custom_slider_state",
              "url": "div-action://set_state?state_id=0/custom_slider/tick_marks_1_thumb"
            }
          ]
        },
        {
          "condition": "@{tick_marks && secondary_thumb}",
          "actions": [
            {
              "log_id": "update_custom_slider_state",
              "url": "div-action://set_state?state_id=0/custom_slider/tick_marks_2_thumbs"
            }
          ]
        },
        {
          "condition": "@{!tick_marks && !secondary_thumb}",
          "actions": [
            {
              "log_id": "update_custom_slider_state",
              "url": "div-action://set_state?state_id=0/custom_slider/no_tick_marks_1_thumb"
            }
          ]
        },
        {
          "condition": "@{!tick_marks && secondary_thumb}",
          "actions": [
            {
              "log_id": "update_custom_slider_state",
              "url": "div-action://set_state?state_id=0/custom_slider/no_tick_marks_2_thumbs"
            }
          ]
        }
      ],
      "states": [
        {
          "state_id": 0,
          "div": {
            "type": "container",
            "margins": {
              "top": 8,
              "bottom": 8,
              "left": 8,
              "right": 8
            },
            "items": [
              {
                "type": "title_preset",
                "text": "Slider with one pointer"
              },
              {
                "type": "slider_preset",
                "id": "slider_default",
                "thumb_value_variable": "first_thumb_value",
                "accessibility": {
                  "description": "Default slider"
                }
              },
              {
                "type": "title_preset",
                "text": "Slider with ticks. Scale from 0 to 10."
              },
              {
                "type": "slider_preset",
                "id": "slider_default",
                "min_value": 0,
                "max_value": 10,
                "thumb_value_variable": "second_thumb_value",
                "accessibility": {
                  "description": "Min - 0, max - 10"
                },
                "tick_mark_active_style": {
                  "type": "shape_drawable",
                  "color": "#FFCC00",
                  "stroke": {
                    "color": "#ffffff",
                    "width": 2
                  },
                  "shape": {
                    "type": "rounded_rectangle",
                    "item_height": {
                      "type": "fixed",
                      "value": 8
                    },
                    "item_width": {
                      "type": "fixed",
                      "value": 8
                    },
                    "corner_radius": {
                      "type": "fixed",
                      "value": 5
                    }
                  }
                },
                "tick_mark_inactive_style": {
                  "type": "shape_drawable",
                  "color": "#20000000",
                  "stroke": {
                    "color": "#ffffff",
                    "width": 2
                  },
                  "shape": {
                    "type": "rounded_rectangle",
                    "item_height": {
                      "type": "fixed",
                      "value": 8
                    },
                    "item_width": {
                      "type": "fixed",
                      "value": 8
                    },
                    "corner_radius": {
                      "type": "fixed",
                      "value": 5
                    }
                  }
                }
              },
              {
                "type": "title_preset",
                "text": "Slider with ticks. Scale from 0 to 3."
              },
              {
                "type": "slider_preset",
                "id": "slider_default",
                "min_value": 0,
                "max_value": 3,
                "thumb_value_variable": "third_thumb_value",
                "accessibility": {
                  "description": "Min - 0, max - 3"
                },
                "tick_mark_active_style": {
                  "type": "shape_drawable",
                  "color": "#FFCC00",
                  "stroke": {
                    "color": "#ffffff",
                    "width": 2
                  },
                  "shape": {
                    "type": "rounded_rectangle",
                    "item_height": {
                      "type": "fixed",
                      "value": 8
                    },
                    "item_width": {
                      "type": "fixed",
                      "value": 8
                    },
                    "corner_radius": {
                      "type": "fixed",
                      "value": 5
                    }
                  }
                },
                "tick_mark_inactive_style": {
                  "type": "shape_drawable",
                  "color": "#20000000",
                  "stroke": {
                    "color": "#ffffff",
                    "width": 2
                  },
                  "shape": {
                    "type": "rounded_rectangle",
                    "item_height": {
                      "type": "fixed",
                      "value": 8
                    },
                    "item_width": {
                      "type": "fixed",
                      "value": 8
                    },
                    "corner_radius": {
                      "type": "fixed",
                      "value": 5
                    }
                  }
                }
              },
              {
                "type": "title_preset",
                "text": "Sliders with two pointers."
              },
              {
                "type": "slider_preset",
                "id": "slider_default",
                "min_value": 0,
                "max_value": 10,
                "thumb_value_variable": "fourth_thumb_value",
                "accessibility": {
                  "description": "Double with ticks"
                },
                "thumb_secondary_value_variable": "fourth_thumb_secondary_value",
                "thumb_secondary_style": {
                  "type": "shape_drawable",
                  "color": "#FFCC00",
                  "stroke": {
                    "color": "#ffffff",
                    "width": 3
                  },
                  "shape": {
                    "type": "rounded_rectangle",
                    "item_height": {
                      "type": "fixed",
                      "value": 32
                    },
                    "item_width": {
                      "type": "fixed",
                      "value": 32
                    },
                    "corner_radius": {
                      "type": "fixed",
                      "value": 100
                    }
                  }
                },
                "tick_mark_active_style": {
                  "type": "shape_drawable",
                  "color": "#FFCC00",
                  "stroke": {
                    "color": "#ffffff",
                    "width": 2
                  },
                  "shape": {
                    "type": "rounded_rectangle",
                    "item_height": {
                      "type": "fixed",
                      "value": 8
                    },
                    "item_width": {
                      "type": "fixed",
                      "value": 8
                    },
                    "corner_radius": {
                      "type": "fixed",
                      "value": 5
                    }
                  }
                },
                "tick_mark_inactive_style": {
                  "type": "shape_drawable",
                  "color": "#20000000",
                  "stroke": {
                    "color": "#ffffff",
                    "width": 2
                  },
                  "shape": {
                    "type": "rounded_rectangle",
                    "item_height": {
                      "type": "fixed",
                      "value": 8
                    },
                    "item_width": {
                      "type": "fixed",
                      "value": 8
                    },
                    "corner_radius": {
                      "type": "fixed",
                      "value": 5
                    }
                  }
                }
              },
              {
                "type": "slider_preset",
                "id": "slider_default",
                "thumb_value_variable": "fifth_thumb_value",
                "thumb_secondary_value_variable": "fifth_thumb_secondary_value",
                "accessibility": {
                  "description": "Double without ticks"
                },
                "thumb_secondary_style": {
                  "type": "shape_drawable",
                  "color": "#FFCC00",
                  "stroke": {
                    "color": "#ffffff",
                    "width": 3
                  },
                  "shape": {
                    "type": "rounded_rectangle",
                    "item_height": {
                      "type": "fixed",
                      "value": 32
                    },
                    "item_width": {
                      "type": "fixed",
                      "value": 32
                    },
                    "corner_radius": {
                      "type": "fixed",
                      "value": 100
                    }
                  }
                }
              },
              {
                "type": "title_preset",
                "text": "Custom preferences"
              },
              {
                "type": "state",
                "id": "custom_slider",
                "default_state_id": "no_tick_marks_1_thumb",
                "states": [
                  {
                    "state_id": "no_tick_marks_1_thumb",
                    "div": {
                      "type": "custom_slider",
                      "max_value": "@{toInteger(max_value)}",
                      "thumb_value_variable": "sixth_thumb_value"
                    }
                  },
                  {
                    "state_id": "no_tick_marks_2_thumbs",
                    "div": {
                      "type": "custom_slider",
                      "max_value": "@{toInteger(max_value)}",
                      "thumb_value_variable": "sixth_thumb_value",
                      "thumb_secondary_value_variable": "sixth_thumb_secondary_value"
                    }
                  },
                  {
                    "state_id": "tick_marks_1_thumb",
                    "div": {
                      "type": "custom_slider_with_tick_marks",
                      "max_value": "@{toInteger(max_value)}",
                      "thumb_value_variable": "sixth_thumb_value"
                    }
                  },
                  {
                    "state_id": "tick_marks_2_thumbs",
                    "div": {
                      "type": "custom_slider_with_tick_marks",
                      "max_value": "@{toInteger(max_value)}",
                      "thumb_value_variable": "sixth_thumb_value",
                      "thumb_secondary_value_variable": "sixth_thumb_secondary_value"
                    }
                  }
                ]
              },
              {
                "margins": {
                  "top": 15,
                  "unit": "dp"
                },
                "type": "container",
                "orientation": "horizontal",
                "width": {
                  "type": "match_parent"
                },
                "items": [
                  {
                    "type": "settings_title",
                    "text": "secondary thumb"
                  },
                  {
                    "type": "container",
                    "items": [
                      {
                        "type": "state",
                        "id": "secondary_thumb_switch",
                        "width": {
                          "type": "fixed",
                          "value": 40
                        },
                        "height": {
                          "type": "fixed",
                          "value": 22
                        },
                        "default_state_id": "0",
                        "states": [
                          {
                            "state_id": "0",
                            "div": {
                              "type": "settings_switch_off"
                            }
                          },
                          {
                            "state_id": "1",
                            "div": {
                              "type": "settings_switch_on"
                            }
                          }
                        ]
                      }
                    ],
                    "actions": [
                      {
                        "log_id": "change_secondary_thumb",
                        "url": "div-action://set_variable?name=invert_secondary_thumb&value=true"
                      }
                    ]
                  }
                ]
              },
              {
                "margins": {
                  "top": 12,
                  "unit": "dp"
                },
                "type": "container",
                "orientation": "horizontal",
                "items": [
                  {
                    "type": "settings_title",
                    "text": "ticks"
                  },
                  {
                    "type": "container",
                    "items": [
                      {
                        "type": "state",
                        "id": "tick_marks_switch",
                        "width": {
                          "type": "fixed",
                          "value": 40
                        },
                        "height": {
                          "type": "fixed",
                          "value": 22
                        },
                        "default_state_id": "0",
                        "states": [
                          {
                            "state_id": "0",
                            "div": {
                              "type": "settings_switch_off"
                            }
                          },
                          {
                            "state_id": "1",
                            "div": {
                              "type": "settings_switch_on"
                            }
                          }
                        ]
                      }
                    ],
                    "actions": [
                      {
                        "log_id": "change_tick_marks",
                        "url": "div-action://set_variable?name=invert_tick_marks&value=true"
                      }
                    ]
                  }
                ]
              },
              {
                "margins": {
                  "top": 12,
                  "unit": "dp"
                },
                "type": "container",
                "orientation": "horizontal",
                "content_alignment_horizontal": "left",
                "items": [
                  {
                    "margins": {
                      "left": 12,
                      "unit": "dp"
                    },
                    "width": {
                      "type": "fixed",
                      "value": 142
                    },
                    "type": "settings_title",
                    "text": "max value: @{max_value}"
                  },
                  {
                    "type": "input",
                    "width": {
                      "type": "fixed",
                      "value": 70
                    },
                    "height": {
                      "type": "wrap_content"
                    },
                    "margins": {
                      "left": 16
                    },
                    "paddings": {
                      "left": 8,
                      "right": 8
                    },
                    "alpha": 1.0,
                    "alignment_vertical": "center",
                    "background": [
                      {
                        "type": "solid",
                        "color": "#0e000000"
                      }
                    ],
                    "border": {
                      "corner_radius": 8
                    },
                    "font_size": 16,
                    "text_color": "#000000",
                    "text_variable": "max_value",
                    "hint_text": "10",
                    "max_visible_lines": 1,
                    "single_line": 1,
                    "line_height": 30,
                    "keyboard_type": "number"
                  }
                ]
              }
            ]
          }
        }
      ]
    }
  },
  "steps": [
    {
      "expected_screenshot": "step0.png"
    },
    {
      "div_actions": [
        {
          "url": "div-action://set_variable?name=first_thumb_value&value=5",
          "log_id": "first_thumb_value"
        }
      ]
    },
    {
      "div_actions": [
        {
          "url": "div-action://set_variable?name=second_thumb_value&value=5",
          "log_id": "second_thumb_value"
        }
      ]
    },
    {
      "div_actions": [
        {
          "url": "div-action://set_variable?name=third_thumb_value&value=2",
          "log_id": "third_thumb_value"
        }
      ]
    },
    {
      "div_actions": [
        {
          "url": "div-action://set_variable?name=fourth_thumb_value&value=5",
          "log_id": "fourth_thumb_value"
        }
      ]
    },
    {
      "div_actions": [
        {
          "url": "div-action://set_variable?name=fifth_thumb_value&value=5",
          "log_id": "fifth_thumb_value"
        }
      ]
    },
    {
      "div_actions": [
        {
          "url": "div-action://set_variable?name=sixth_thumb_value&value=5",
          "log_id": "sixth_thumb_value"
        }
      ]
    },
    {
      "div_actions": [
        {
          "log_id": "change_secondary_thumb",
          "url": "div-action://set_variable?name=invert_secondary_thumb&value=true"
        }
      ]
    },
    {
      "div_actions": [
        {
          "log_id": "change_tick_marks",
          "url": "div-action://set_variable?name=invert_tick_marks&value=true"
        }
      ]
    },
    {
      "div_actions": [
        {
          "log_id": "change_tick_marks",
          "url": "div-action://set_variable?name=max_value&value=5"
        }
      ]
    }
  ]
}
